<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>Custom Command</title>
	<script type="text/javascript" src="../../js/vue.js"></script>
</head>
<body>
<div id="root">
	<p>n: {{n}}</p>
	<p>10 * n: <span v-big="n"></span></p>
	<button @click="n++">click to add 1</button>
	<hr/>

	<input type="text" v-fbind:value="n">
</div>
</body>

<script type="text/javascript">
	Vue.config.productionTip = false;
	Vue.directive('fbind-global', {
		bind(el, binding) {
			console.log('bind')
			el.value = binding.value
		},
		inserted(el, binding) {
			console.log('inserted')
			el.focus()
		},
		update(el, binding) {
			console.log('update')
			el.value = binding.value
			el.focus()
		}
	})

	new Vue({
		el: '#root',
		data: {
			n: 1
		},
		directives: {
			big(el, binding) {
				el.innerHTML = binding.value * 10;
			},
			fbind: {
				bind(el, binding) {
					console.log('bind')
					el.value = binding.value
				},
				inserted(el, binding) {
					console.log('inserted')
					el.focus()
				},
				update(el, binding) {
					console.log('update')
					el.value = binding.value
					el.focus()
				}
			}
		}
	})
</script>
</html>