<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>Filter</title>
	<script type="text/javascript" src="../js/vue.js"></script>
	<script type="text/javascript" src="../js/dayjs.js"></script>
</head>
<body>
<div id="root">
	<h2>Formatted Time</h2>
	<p>Current time: {{fmtTime}} (computed)</p>
	<p>Current time: {{getFmtTime()}} (methods)</p>
	<p>Current time: {{time | timeFormatter}} (filters)</p>
	<p>Current time: {{time | timeFormatter('YYYY年MM月DD日') | mySlice}} (filters)</p>
</div>
</body>

<script type="text/javascript">
	Vue.config.productionTip = false;
	Vue.filter('mySlice', function(str) {
		return str.slice(0, 4);
	})

	new Vue({
		el: '#root',
		data: {
			time: Date.now()
		},
		computed: {
			fmtTime() {
				return dayjs(this.time).format('YYYY-MM-DD HH:mm:ss');
			}
		},
		methods: {
			getFmtTime() {
				return dayjs(this.time).format('YYYY-MM-DD HH:mm:ss');
			}
		},
		filters: {
			timeFormatter(time, str='YYYY-MM-DD HH:mm:ss') {
				return dayjs(time).format(str);
			},
			// mySlice(str) {
			// 	return str.slice(0, 4);
			// }
		}
	})
</script>
</html>